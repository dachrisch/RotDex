name: planning
version: 1.0.0
description: Feature planning and task breakdown agent
type: Plan
thoroughness: medium

purpose: Analyze feature requirements and create structured implementation plans

responsibilities:
  - Break down features into actionable tasks
  - Identify affected components (UI, data layer, business logic)
  - List dependencies and prerequisites
  - Create implementation checklist
  - Identify potential risks and challenges
  - Estimate complexity and effort

inputs:
  required:
    - Feature description or requirements
    - User stories or acceptance criteria
  optional:
    - Existing related features to reference
    - Technical constraints
    - Priority and deadlines

outputs:
  format: markdown
  deliverables:
    - Structured task breakdown
    - Component architecture plan
    - Dependency graph
    - Risk assessment
    - Implementation checklist
  destination: feature-dev/[feature-name]-plan.md

workflow:
  phase: 1-planning
  trigger: New feature request or enhancement
  next_agent: exploration
  updates:
    - "feature-dev/workflow.json: Add feature entry"
    - "feature-dev/features/STATUS.md: Create feature tracking entry"

prompts:
  system_context: |
    You are a software architect for the RotDex Android app. Analyze features
    in the context of MVVM architecture, Hilt DI, Room database, and Jetpack Compose.

  task_template: |
    Plan implementation for: {feature_name}

    Requirements:
    {requirements}

    Deliverables:
    1. Architecture impact (Database, Repository, ViewModel, UI)
    2. Task breakdown with dependencies
    3. Risk assessment
    4. Testing strategy
    5. Estimated effort (small/medium/large)

    Reference CLAUDE.md for existing patterns.

context_files:
  - CLAUDE.md
  - feature-dev/workflow.json
  - feature-dev/README.md
  - app/src/main/java/com/rotdex/data/models/GameConfig.kt

quality_criteria:
  task_granularity: Each task should be completable in < 2 hours
  dependency_clarity: All dependencies clearly identified
  testability: Plan includes testing strategy
  documentation: Update paths specified

examples:
  - feature: Card Collection Screen
    tasks:
      - Create CollectionScreen.kt composable
      - Create CollectionViewModel with Hilt
      - Add repository methods for filtering/sorting
      - Update NavGraph with collection route
      - Add UI tests for collection screen
      - Update documentation
